var appControllers=angular.module("appControllers");appControllers.controller("artistsCtrl",["$scope","$routeParams",function(a,b){a.isLoggedIn=!0,a.isAdmin=!0;var c=function(){b.id?(d(b.id),e(b.id)):(g(),f())},d=function(b){a.artists=[{id:1,name:"Rui Gomes da Silva",image:"profile.jpg",area:{id:1,name:"Design & Multimédia"},countryLive:{id:1,name:"Portugal"}},{id:2,name:"Rui Gomes da Silva",image:"profile.jpg",area:{id:1,name:"Design & Multimédia"},countryLive:{id:1,name:"Portugal"}},{id:3,name:"Rui Gomes da Silva",image:"profile.jpg",area:{id:1,name:"Design & Multimédia"},countryLive:{id:1,name:"Portugal"}},{id:4,name:"Rui Gomes da Silva",image:"profile.jpg",area:{id:1,name:"Design & Multimédia"},countryLive:{id:1,name:"Portugal"}},{id:5,name:"Rui Gomes da Silva",image:"profile.jpg",area:{id:1,name:"Design & Multimédia"},countryLive:{id:1,name:"Portugal"}},{id:6,name:"Rui Gomes da Silva",image:"profile.jpg",area:{id:1,name:"Design & Multimédia"},countryLive:{id:1,name:"Portugal"}}]},e=function(b){a.cat={id:1,name:"Artes Digitais",color:"#378d3b",areas:[{id:1,name:"Design & Multimédia"},{id:2,name:"Ilustração"},{id:3,name:"Fotografia"}]}},f=function(){a.artists=[{id:1,art:{id:1,name:"Artes Digitais",color:"#378d3b"}},{id:2,art:{id:1,name:"Artes Digitais",color:"#378d3b"}},{id:3,art:{id:3,name:"Literatura",color:"#378d3b"}},{id:4,art:{id:4,name:"Música",color:"#378d3b"}},{id:5,art:{id:5,name:"Performance",color:"#378d3b"}},{id:6,art:{id:6,name:"Entidades",color:"#378d3b"}},{id:7,art:{id:7,name:"Cinema & Vídeo",color:"#378d3b"}},{id:8,art:{id:9,name:"Outro"}}]},g=function(){a.networks=[{name:"facebook",url:"www.facebook.com"},{name:"twitter",url:"www.twitter.com"},{name:"google-plus",url:"www.googleplus.com"}]};c()}]),appControllers.controller("artistDetailsCtrl",["$scope","$routeParams",function(a,b){var c=function(){b.id?(d(b.id),f()):(e(),f())},d=function(b){a.artist={id:1,name:"Rui Gomes da Silva",image:"profile.jpg",areas:[{id:1,name:"Design & Multimédia"}],countryLive:{id:1,name:"Portugal"},networks:[{name:"facebook",url:"www.facebook.com"},{name:"twitter",url:"www.twitter.com"},{name:"google-plus",url:"www.googleplus.com"}]}},e=function(){a.artist={id:1,name:"Ruis Gomes da Silva",image:"profile.jpg",areas:[{id:1,name:"Design & Multimédia"}],countryLive:{id:1,name:"Portugal"},networks:[{name:"facebook",url:"www.facebook.com"},{name:"twitter",url:"www.twitter.com"},{name:"google-plus",url:"www.googleplus.com"}]}},f=function(){a.otherArtists=[{id:1,name:"Rui Gomes da Silva",image:"profile.jpg",area:{id:1,name:"Design & Multimédia"},countryLive:{id:1,name:"Portugal"}},{id:2,name:"Rui Gomes da Silva",image:"profile.jpg",area:{id:1,name:"Design & Multimédia"},countryLive:{id:1,name:"Portugal"}},{id:3,name:"Rui Gomes da Silva",image:"profile.jpg",area:{id:1,name:"Design & Multimédia"},countryLive:{id:1,name:"Portugal"}},{id:4,name:"Rui Gomes da Silva",image:"profile.jpg",area:{id:1,name:"Design & Multimédia"},countryLive:{id:1,name:"Portugal"}},{id:5,name:"Rui Gomes da Silva",image:"profile.jpg",area:{id:1,name:"Design & Multimédia"},countryLive:{id:1,name:"Portugal"}},{id:6,name:"Rui Gomes da Silva",image:"profile.jpg",area:{id:1,name:"Design & Multimédia"},countryLive:{id:1,name:"Portugal"}}]};c()}]);var appControllers=angular.module("appControllers");appControllers.controller("countriesCtrl",["$scope","$routeParams","countriesService",function(a,b,c){var d=function(){f(),e()},e=function(){c.list().then(function(b){a.countries=b},function(a){toastr.error(a,"",{timeOut:5e3})})},f=function(){a.networks=[{name:"facebook",url:"www.facebook.com"},{name:"twitter",url:"www.twitter.com"},{name:"google-plus",url:"www.googleplus.com"}]};d()}]);var appControllers=angular.module("appControllers");appControllers.controller("datePickerCtrl",["$scope","$routeParams",function(a,b){var c=function(){a.dateOptions={yearRange:"-0:-0",showOtherMonths:!0,firstDay:1,dateFormat:"d MM yy"}};c()}]);var appControllers=angular.module("appControllers");appControllers.controller("eventsCtrl",["$scope",function(a){a.editable=!1,a.loggedIn=!1,a.events=[{id:1,title:"Abertura oficial do festival de janeiro",dateStart:"20140313T00:00:00",city:{id:1,title:"Casa da Montanha"},country:{id:1,title:"Portugal"},description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer sapien nulla, sagittis in commodo et, sodales condimentum purus.",image:{id:1,url:"thumb.jpg"}},{id:2,title:"Abertura oficial do festival de janeiro",dateStart:"20140313T00:00:00",city:{id:1,title:"Casa da Montanha"},country:{id:1,title:"Portugal"},description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer sapien nulla, sagittis in commodo et, sodales condimentum purus.",image:{id:1,url:"thumb.jpg"}}],a.deleteEl=function(a){console.log("Deleted with service: "+a)}}]),appControllers.controller("eventsDetailsCtrl",["$scope","$routeParams",function(a,b){b.id&&(a.event={id:b.id,title:"Abertura oficial do festival de janeiro",dateStart:"20140313T00:00:00",dateEnd:"20140313T00:00:00",city:{id:1,title:"Casa da Montanha"},country:{id:1,title:"Portugal"},description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer sapien nulla, sagittis in commodo et, sodales condimentum purus.",image:{id:1,url:"thumb.jpg"}},a.otherEvents=[{id:1,title:"Abertura oficial do festival de janeiro",dateStart:"20140313T00:00:00",city:{id:1,title:"Casa da Montanha"},country:{id:1,title:"Portugal"},description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer sapien nulla, sagittis in commodo et, sodales condimentum purus.",image:{id:1,url:"thumb.jpg"}},{id:2,title:"Abertura oficial do festival de janeiro",dateStart:"20140313T00:00:00",city:{id:1,title:"Casa da Montanha"},country:{id:1,title:"Portugal"},description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer sapien nulla, sagittis in commodo et, sodales condimentum purus.",image:{id:1,url:"thumb.jpg"}},{id:3,title:"Abertura oficial do festival de janeiro",dateStart:"20140313T00:00:00",city:{id:1,title:"Casa da Montanha"},country:{id:1,title:"Portugal"},description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer sapien nulla, sagittis in commodo et, sodales condimentum purus.",image:{id:1,url:"thumb.jpg"}},{id:4,title:"Abertura oficial do festival de janeiro",dateStart:"20140313T00:00:00",city:{id:1,title:"Casa da Montanha"},country:{id:1,title:"Portugal"},description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer sapien nulla, sagittis in commodo et, sodales condimentum purus.",image:{id:1,url:"thumb.jpg"}},{id:5,title:"Abertura oficial do festival de janeiro",dateStart:"20140313T00:00:00",city:{id:1,title:"Casa da Montanha"},country:{id:1,title:"Portugal"},description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer sapien nulla, sagittis in commodo et, sodales condimentum purus.",image:{id:1,url:"thumb.jpg"}}],a.networks=[{name:"facebook",url:"www.facebook.com"},{name:"twitter",url:"www.twitter.com"},{name:"google-plus",url:"www.googleplus.com"}])}]),appControllers.controller("eventsUserCtrl",["$scope",function(a){a.editable=!0,a.loggedIn=!0,a.events=[{id:1,title:"Abertura oficial do festival de janeiro",dateStart:"20140313T00:00:00",city:{id:1,title:"Casa da Montanha"},country:{id:1,title:"Portugal"},description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer sapien nulla, sagittis in commodo et, sodales condimentum purus.",image:{id:1,url:"thumb.jpg"}},{id:2,title:"Abertura oficial do festival de janeiro",dateStart:"20140313T00:00:00",city:{id:1,title:"Casa da Montanha"},country:{id:1,title:"Portugal"},description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer sapien nulla, sagittis in commodo et, sodales condimentum purus.",image:{id:1,url:"thumb.jpg"}}],a.deleteEl=function(a){console.log("Deleted with service: "+a)}}]),appControllers.controller("eventFormCtrl",["$scope","$routeParams","countriesService",function(a,b,c){a.Event={},a.image={},a.submitted=!1,a.countries=[],a.Event.customMenu=[["bold","italic","underline","strikethrough","subscript","superscript"],["font-size"],["remove-format"],["left-justify","center-justify","right-justify"],["link"]],a.dateOptions={yearRange:"-0:-0",showOtherMonths:!0,firstDay:1,dateFormat:"d MM yy"};var d=function(){f(),b.id?a.intent="edit":a.intent="new"};a.submitEvent=function(){a.submitted=!0,0==Object.keys(a.eventForm.$error).length&&a.image.src&&(e(),console.log(a.Event),b.id?(toastr.success("Evento alterado com sucesso!","",{timeOut:5e3}),console.log("update")):(toastr.success("Evento criado com sucesso!","",{timeOut:5e3}),console.log("create")))},a.hasError=function(b,c){return c?b.$dirty&&b.$error[c]||a.submitted&&b.$error[c]:b.$dirty&&b.$invalid||a.submitted&&b.$invalid};var e=function(){void 0!=a.image.src&&null==a.image.id&&(a.Event.image={},a.Event.image.url=a.image.src.replace(/^data:image\/(png|jpg|jpeg|gif);base64,/,""),a.Event.image.name=a.image.name,a.Event.image.extension=a.image.extension)},f=function(){c.list().then(function(b){a.countries=b},function(a){toastr.error(a,"",{timeOut:5e3})})};d()}]);var appControllers=angular.module("appControllers");appControllers.controller("homeCtrl",["$scope",function(a){}]);var appControllers=angular.module("appControllers");appControllers.controller("mainCtrl",["$scope",function(a){}]);var appControllers=angular.module("appControllers");appControllers.controller("footerCtrl",["$scope",function(a){a.icons=[{elClass:"govpt",url:"#/"},{elClass:"comunidade",url:"#/"},{elClass:"mirateca",url:"#/"}]}]);var appControllers=angular.module("appControllers");appControllers.controller("menuCtrl",["$scope",function(a){var b=null,c=!1,d=!1,e=function(){a.isLoggedIn=!0,a.isAdmin=!0,c=a.isLoggedIn,d=a.isAdmin,b={id:1,name:"Terry Costa"}},f=function(){a.menu=[{style:"link",title:"Projeto",url:"#/project"},{style:"link",title:"Eventos",url:"#/events"},{style:"link",title:"Artistas",url:"#/artists",style:"static",subs:[{style:"link",title:"Todos",url:"#/artists"},{style:"link",id:1,title:"Artes Digitais"},{style:"link",id:2,title:"Artes Plásticas"},{style:"link",id:3,title:"Cinema e Vídeo"},{style:"link",id:4,title:"Literatura"},{style:"link",id:5,title:"Música"},{style:"link",id:6,title:"Performance"},{style:"link",id:7,title:"Tradicional"},{style:"link",id:8,title:"Organizações"}]},{style:"link",title:"Países",url:"#/countries"}],c?a.menu.push({style:"link",id:b.id,title:b.name,type:d?"admin":"regular",related:"user",url:"#/user"}):a.menu.push({style:"link",title:"Entrar",url:"#/enter",related:"user"})};e(),f(),a.$on("$locationChangeStart",function(a,b,c){e(),f()})}]);var appControllers=angular.module("appControllers");appControllers.controller("projectCtrl",["$scope",function(a){}]);var appControllers=angular.module("appControllers");appControllers.controller("recoverPasswordModalCtrl",["$scope","$modal","$log",function(a,b,c){a.animationsEnabled=!0,a.open=function(c){var d=b.open({animation:a.animationsEnabled,templateUrl:"recoverForm.tpl.html",controller:"recoverPasswordModalInstanceCtrl",size:c});d.result.then(function(){},function(){})}}]),appControllers.controller("recoverPasswordModalInstanceCtrl",["$scope","$modalInstance",function(a,b){a.Recover={},a.submitted=!1,toastr.options.preventDuplicates=!0,a.ok=function(){a.submitted=!0,0==Object.keys(a.recoverForm.$error).length&&(toastr.success("E-mail de recuperação enviado!","",{timeOut:5e3}),b.close())},a.cancel=function(){b.dismiss("cancel")},a.hasError=function(b,c){return c?b.$dirty&&b.$error[c]||a.submitted&&b.$error[c]:b.$dirty&&b.$invalid||a.submitted&&b.$invalid}}]);var appControllers=angular.module("appControllers");appControllers.controller("reportsCtrl",["$scope","$routeParams",function(a,b){a.entryLimit=3,a.currentLast=0;var c=function(){d(),e(),f()},d=function(){a.artsArt=[{id:1,name:"Artes Digitais",totalArts:37},{id:2,name:"Artes Plásticas",totalArts:37},{id:3,name:"Cinema & Vídeo",totalArts:37},{id:4,name:"Literatura",totalArts:37},{id:5,name:"Música",totalArts:37},{id:6,name:"Performance",totalArts:37},{id:7,name:"Tradicional",totalArts:37},{id:8,name:"Organizações",totalArts:37}];var b=Math.ceil(a.artsArt.length/a.entryLimit);a.artCols=[];for(var c=0;b>c;c++)a.artCols.push(c)},e=function(){a.artsCountry=[{id:1,name:"País",totalArts:37},{id:2,name:"País",totalArts:37},{id:3,name:"País",totalArts:37},{id:4,name:"País",totalArts:37},{id:5,name:"País",totalArts:37},{id:6,name:"País",totalArts:37},{id:7,name:"País",totalArts:37},{id:8,name:"País",totalArts:37},{id:9,name:"País",totalArts:37},{id:10,name:"País",totalArts:37},{id:12,name:"País",totalArts:37},{id:13,name:"País",totalArts:37},{id:14,name:"País",totalArts:37}];var b=Math.ceil(a.artsCountry.length/a.entryLimit);a.countryCols=[];for(var c=0;b>c;c++)a.countryCols.push(c)},f=function(){a.allArts=[{id:1,name:"User1",email:"mail@mail.com",countryLive:{id:1,name:"Portugal"}},{id:2,name:"User1",email:"mail@mail.com",countryLive:{id:1,name:"Portugal"}},{id:3,name:"User1",email:"mail@mail.com",countryLive:{id:1,name:"Portugal"}},{id:4,name:"User1",email:"mail@mail.com",countryLive:{id:1,name:"Portugal"}},{id:5,name:"User1",email:"mail@mail.com",countryLive:{id:1,name:"Portugal"}},{id:6,name:"User1",email:"mail@mail.com",countryLive:{id:1,name:"Portugal"}},{id:7,name:"User1",email:"mail@mail.com",countryLive:{id:1,name:"Portugal"}},{id:8,name:"User1",email:"mail@mail.com",countryLive:{id:1,name:"Portugal"}},{id:9,name:"User1",email:"mail@mail.com",countryLive:{id:1,name:"Portugal"}}]};a.setCurrentLast=function(){a.currentLast++},c()}]);var appControllers=angular.module("appControllers");appControllers.controller("timePickerCtrl",["$scope","$routeParams",function(a,b){var c=function(){a.hstep=1,a.mstep=1,a.ismeridian=!1};c()}]);var appControllers=angular.module("appControllers");appControllers.controller("userCtrl",["$scope",function(a){}]),appControllers.controller("userSignupCtrl",["$scope","$filter","$routeParams","countriesService","districtsService","categoriesService","networksService","biosService","usersService",function(a,b,c,d,e,f,g,h,i){a.User={},a.image={},a.submitted=!1,a.isCorrect=!1,a.countries=[],a.districts=[],a.categories=[],a.bios=[],a.networks=[];var j=function(){m(),n(),o(),p(),q(),c.id?a.intent="edit":a.intent="new"};a.createUser=function(){a.submitted=!0,0==Object.keys(a.newUserForm.$error).length&&a.image.src&&(k(),console.log(a.User),c.id?_updateUser(a.User):l(a.User))},a.hasError=function(b,c){return c?b.$dirty&&b.$error[c]||a.submitted&&b.$error[c]:b.$dirty&&b.$invalid||a.submitted&&b.$invalid};var k=function(){if(void 0!=a.image.src&&null==a.image.id&&(a.User.image={},a.User.image.url=a.image.src.replace(/^data:image\/(png|jpg|jpeg|gif);base64,/,""),a.User.image.name=a.image.name,a.User.image.extension=a.image.extension),void 0!=a.User.networks)for(var c in a.User.networks){var d=a.User.networks[c];a.User.networks[c]=b("urlResolverVal")(d)}a.User.cur_country_id=void 0!=a.User.cur_country_id?a.User.cur_country_id.id:null,a.User.desc_country_id=void 0!=a.User.desc_country_id?a.User.desc_country_id.id:null,a.User.dist_id=void 0!=a.User.dist_id?a.User.dist_id.id:null,a.User.cat_id=void 0!=a.User.cat_id?a.User.cat_id.id:null},l=function(a){i.create(a).then(function(a){toastr.success("Utilizador criado!","",{timeOut:5e3})},function(a){toastr.error(a,"",{timeOut:5e3})})},m=function(){d.list().then(function(b){a.countries=b},function(a){toastr.error(a,"",{timeOut:5e3})})},n=function(){e.list().then(function(b){a.districts=b},function(a){toastr.error(a,"",{timeOut:5e3})})},o=function(){f.list().then(function(b){a.categories=b},function(a){toastr.error(a,"",{timeOut:5e3})})},p=function(){h.list().then(function(b){a.bios=b,a.User.bios=[];for(var c=0;c<b.length;c++)a.User.bios[c]={},a.User.bios[c].bio_id=b[c].id},function(a){toastr.error(String(a),"",{timeOut:5e3})})},q=function(){g.list().then(function(b){a.networks=b,a.User.social=[];for(var c=0;c<b.length;c++)a.User.social[c]={},a.User.social[c].network_id=b[c].id},function(a){toastr.error(String(a),"",{timeOut:5e3})})};j()}]),appControllers.controller("userLoginCtrl",["$scope","$filter",function(a,b){a.User={},a.image={},a.submitted=!1,a.loginUser=function(){a.submitted=!0,0==Object.keys(a.userLoginForm.$error).length&&(c(),console.log(a.User))},a.hasError=function(b,c){return c?b.$dirty&&b.$error[c]||a.submitted&&b.$error[c]:b.$dirty&&b.$invalid||a.submitted&&b.$invalid};var c=function(){}}]);var appFilters=angular.module("appFilters");appFilters.filter("myFilter",function(){return function(a,b,c){var d;return d}}),appFilters.filter("urlResolver",function(){return function(a){var b,c="http://";return b=a.startsWith("www")?c+a:a}}),appFilters.filter("urlResolverVal",function(){return function(a){var b,c="http://";return b=a.startsWith("www")?c+a:null}}),appFilters.filter("startFrom",function(){return function(a,b){return a?(b=+b,a.slice(b)):[]}});var appServices=angular.module("appServices");appServices.factory("authService",["$http","$q","sessionStorage",function(a,b,c){var d={isAuth:!1,userName:"",info:null},e={settings:{loginUrl:""},errMsg:{MSG_INVALID_LOGIN_CREDENTIALS:"Please fill username and password fields!",MSG_NO_LOGIN_URL_IS_DEFINED:"INTERNAL: No login url is defined!"}},f=function(a){var b={error:!1,msg:""};return!angular.isDefined(a)||angular.isDefined(a.userName)||angular.isDefined(a.password)?(b.error=!0,b.msg=e.errMsg.MSG_INVALID_LOGIN_CREDENTIALS):angular.isDefined(e.settings.loginUrl)||(b.error=!0,b.msg=e.errMsg.MSG_NO_LOGIN_URL_IS_DEFINED),b},g=function(f){var g=b.defer();if(angular.isDefined(f)&&angular.isDefined(e.settings.loginUrl)){var i=e.settings.loginUrl,j={username:f.userName,password:f.password};a.post(i,j).success(function(a){c.set("authorizationData",{token:a.access_token,userName:f.userName,info:a}),d.isAuth=!0,d.userName=f.userName,d.info=a,g.resolve(a)}).error(function(a,b){h(),g.reject(a)})}return g.promise},h=function(){c.remove("authorizationData"),d.isAuth=!1,d.userName="",d.info=null},i=function(){var a=c.get("authorizationData");a&&(d.isAuth=!0,d.userName=a.userName,d.info=a.info)};return{login:g,logOut:h,verify:f,fillAuthData:i,authentication:d}}]);var appServices=angular.module("appServices");appServices.factory("biosService",["$http","$q","$rootScope",function(a,b,c){var d="API/api/web/v1/bios",e=function(a,b,c,d,e){var f=a.defer(),g={"Content-Type":"application/json"},h=null!=e?b[c](d,e,{headers:g}):b[c](d,{headers:g});return h.success(function(a){f.resolve(a)}).error(function(a,b){f.reject({err:a,status:b})}),f.promise},f=function(c){return e(b,a,"post",d+"/create",c)},g=function(c){return e(b,a,"get",d+"/"+c)},h=function(c){return e(b,a,"get",d)},i=function(c){return e(b,a,"put",d+"/"+id,c)},j=function(c){return e(b,a,"delete",d+"/"+c)};return{create:f,get:g,list:h,update:i,"delete":j}}]);var appServices=angular.module("appServices");appServices.factory("categoriesService",["$http","$q","$rootScope",function(a,b,c){var d="API/api/web/v1/categories",e=function(a,b,c,d,e){var f=a.defer(),g={"Content-Type":"application/json"},h=null!=e?b[c](d,e,{headers:g}):b[c](d,{headers:g});return h.success(function(a){f.resolve(a)}).error(function(a,b){f.reject({err:a,status:b})}),f.promise},f=function(c){return e(b,a,"post",d+"/create",c)},g=function(c){return e(b,a,"get",d+"/"+c)},h=function(c){return e(b,a,"get",d)},i=function(c){return e(b,a,"put",d+"/"+id,c)},j=function(c){return e(b,a,"delete",d+"/"+c)};return{create:f,get:g,list:h,update:i,"delete":j}}]);var appServices=angular.module("appServices");appServices.factory("countriesService",["$http","$q","$rootScope",function(a,b,c){var d="API/api/web/v1/countries",e=function(a,b,c,d,e){var f=a.defer(),g={"Content-Type":"application/json"},h=null!=e?b[c](d,e,{headers:g}):b[c](d,{headers:g});return h.success(function(a){f.resolve(a)}).error(function(a,b){f.reject({err:a,status:b})}),f.promise},f=function(c){return e(b,a,"post",d+"/create",c)},g=function(c){return e(b,a,"get",d+"/"+c)},h=function(c){return e(b,a,"get",d)},i=function(c){return e(b,a,"put",d+"/"+id,c)},j=function(c){return e(b,a,"delete",d+"/"+c)};return{create:f,get:g,list:h,update:i,"delete":j}}]);var appServices=angular.module("appServices");appServices.factory("districtsService",["$http","$q","$rootScope",function(a,b,c){var d="API/api/web/v1/districts",e=function(a,b,c,d,e){var f=a.defer(),g={"Content-Type":"application/json"},h=null!=e?b[c](d,e,{headers:g}):b[c](d,{headers:g});return h.success(function(a){f.resolve(a)}).error(function(a,b){f.reject({err:a,status:b})}),f.promise},f=function(c){return e(b,a,"post",d+"/create",c)},g=function(c){return e(b,a,"get",d+"/"+c)},h=function(c){return e(b,a,"get",d)},i=function(c){return e(b,a,"put",d+"/"+id,c)},j=function(c){return e(b,a,"delete",d+"/"+c)};return{create:f,get:g,list:h,update:i,"delete":j}}]);var appServices=angular.module("appServices");appServices.factory("eventsService",["$http","$q","$rootScope",function(a,b,c){var d="API/api/web/v1/events",e=function(a,b,c,d,e){var f=a.defer(),g={"Content-Type":"application/json"},h=null!=e?b[c](d,e,{headers:g}):b[c](d,{headers:g});return h.success(function(a){f.resolve(a)}).error(function(a,b){f.reject({err:a,status:b})}),f.promise},f=function(c){return e(b,a,"post",d+"/create",c)},g=function(c){return e(b,a,"get",d+"/"+c)},h=function(c){return e(b,a,"get",d)},i=function(c){return e(b,a,"put",d+"/"+id,c)},j=function(c){return e(b,a,"delete",d+"/"+c)};return{create:f,get:g,list:h,update:i,"delete":j}}]);var appServices=angular.module("appServices");appServices.service("authInterceptorService",["$q","$injector","$location","sessionStorage",function(a,b,c,d){var e={STATUS_401:{LOGGED_IN_URL:"#/",NOT_LOGGED_IN_URL:"#/enter"}},f=function(a){a.headers=a.headers||{};var b=d.get("authorizationData");return b&&(a.headers.Authorization="Bearer "+b.token),a},g=function(b){if(401===b.status){var f="/",g=angular.isDefined(d.get("authorizationData"));f=g?e.STATUS_401.LOGGED_IN_URL:e.STATUS_401.NOT_LOGGED_IN_URL,c.path(f)}return a.reject(b)};return{request:f,responseError:g}}]);var appServices=angular.module("appServices");appServices.factory("LoginService",["$rootScope",function(a){return{isLogedin:function(){return[!1,1]}}}]);var appServices=angular.module("appServices");appServices.factory("networksService",["$http","$q","$rootScope",function(a,b,c){var d="API/api/web/v1/networks",e=function(a,b,c,d,e){var f=a.defer(),g={"Content-Type":"application/json"},h=null!=e?b[c](d,e,{headers:g}):b[c](d,{headers:g});return h.success(function(a){f.resolve(a)}).error(function(a,b){f.reject({err:a,status:b})}),f.promise},f=function(c){return e(b,a,"post",d+"/create",c)},g=function(c){return e(b,a,"get",d+"/"+c)},h=function(c){return e(b,a,"get",d)},i=function(c){return e(b,a,"put",d+"/"+id,c)},j=function(c){return e(b,a,"delete",d+"/"+c)};return{create:f,get:g,list:h,update:i,"delete":j}}]);var appServices=angular.module("appServices");appServices.factory("sessionStorage",["$rootScope","$window",function(a,b){var c=function(a){return b.sessionStorage.getItem(a)},d=function(a,c){b.sessionStorage.setItem(a,c)},e=function(a){b.sessionStorage.removeItem(a)};return{get:c,set:d,remove:e}}]);var appServices=angular.module("appServices");appServices.factory("usersService",["$http","$q","$rootScope",function(a,b,c){var d="API/api/web/v1/users",e=function(a,b,c,d,e){var f=a.defer(),g={"Content-Type":"application/json"},h=null!=e?b[c](d,e,{headers:g}):b[c](d,{headers:g});return h.success(function(a){f.resolve(a)}).error(function(a,b){f.reject({err:a,status:b})}),f.promise},f=function(c){return e(b,a,"post",d,c)},g=function(c){return e(b,a,"get",d+"/"+c)},h=function(c){return e(b,a,"get",d+"?expand=bios,cat,curCountry,descCountry,dist,image,social")},i=function(c){return e(b,a,"put",d+"/"+id,c)},j=function(c){return e(b,a,"delete",d+"/"+c)};return{create:f,get:g,list:h,update:i,"delete":j}}]);var appDirectives=angular.module("appDirectives");appDirectives.directive("artistsList",[function(){return{restrict:"E",templateUrl:"scripts/directives/artistsList.html",scope:{list:"=list",max:"@?"},replace:!0,link:function(a,b,c){void 0==a.max&&(a.max="infinite")}}}]);var appDirectives=angular.module("appDirectives");appDirectives.directive("coloredStats",[function(){return{restrict:"E",templateUrl:"scripts/directives/coloredStats.html",scope:{list:"=list",groupByProp:"@?",displayProp:"@?",route:"@?",detailProp:"@?"},replace:!0,link:function(a,b,c){a.setProp=function(a,b){b=b.replace(/\[(\w+)\]/g,".$1"),b=b.replace(/^\./,"");for(var c=b.split("."),d=0,e=c.length;e>d;++d){var f=c[d];if(!(f in a))return;a=a[f]}return a},a.setOffset=function(a,b){var c=b;if(angular.isDefined(a)){var d=Object.keys(a).length;if(c>d)return Math.ceil((c-d)/2)}return!1},a.objLength=function(a){return angular.isDefined(a)?Object.keys(a).length:!1}}}}]);var appDirectives=angular.module("appDirectives");appDirectives.directive("eventsList",[function(){return{restrict:"E",templateUrl:"scripts/directives/eventsList.html",scope:{list:"=list",max:"@?",editable:"@?",deleteEl:"&?"},replace:!0,link:function(a,b,c){void 0==a.max&&(a.max="infinite"),c.$observe("editable",function(){a.editable=a.$eval(c.editable)}),a.deleteEvent=function(b){a.deleteEl()(b)}}}}]);var appDirectives=angular.module("appDirectives");appDirectives.directive("facebookComments",["$location","$timeout",function(a,b){return{restrict:"E",templateUrl:"scripts/directives/facebookComments.html",scope:{text:"@?",textClass:"@?",containerClass:"@?"},replace:!0,link:function(b,c,d){b.curPath=a.absUrl()}}}]),app.directive("dynFbCommentBox",["$timeout",function(a){function b(a,b,c,d){return'<div class="fb-comments" data-href="'+a+'" data-numposts="'+b+'" data-colorsheme="'+c+'" data-width="'+d+'"></div>'}return{restrict:"A",scope:{},link:function(c,d,e){e.$observe("pageHref",function(c){var f=c,g=e.numposts||5,h=e.colorscheme||"light",i=e.width||"100%";d.html(b(f,g,h,i)),a(function(){"undefined"!=typeof FB&&FB.XFBML.parse(d[0])})})}}}]);var appDirectives=angular.module("appDirectives");appDirectives.directive("login",[function(){return{restrict:"E",templateUrl:"scripts/directives/login.html",scope:!0,replace:!0,link:function(a,b,c){$(".selectpicker").selectpicker("render")}}}]);var appDirectives=angular.module("appDirectives");appDirectives.directive("pageFooter",[function(){return{restrict:"E",templateUrl:"scripts/directives/pageFooter.html",replace:!0}}]);var appDirectives=angular.module("appDirectives");appDirectives.directive("pageHeader",["$location",function(a){return{restrict:"E",templateUrl:"scripts/directives/pageHeader.html",scope:!0,replace:!0,link:function(b,c,d){c.on("click","a",null,function(){c.find(".collapse.in").collapse("hide"),c.find(".navbar-toggle").hasClass("collapsed")||c.find(".navbar-toggle").addClass("collapsed")}),b.defineCurrentView=function(b,c,d){var e=a.path().split("#");if(e.length>0){var f="#"+e[0];if(angular.isDefined(b.url)&&null==c&&null==d){if(f.indexOf(b.url)>=0&&f.length>=b.url.length)return!0}else if(angular.isDefined(b.id)&&null!=c&&null==d){if(c.active=!1,b.active=!1,c.url+"/"+b.id==f)return!0}else if(null!=c){if(f==b.url)return!0}else if(null!=d&&f.indexOf(d)>=0&&f.length==d.length)return!0}}}}}]);var appDirectives=angular.module("appDirectives");appDirectives.directive("recoverPassword",[function(){return{restrict:"E",templateUrl:"scripts/directives/recoverPassword.html",scope:!0,replace:!0,link:function(a,b,c){}}}]);var appDirectives=angular.module("appDirectives");appDirectives.directive("selectPicker",["$timeout",function(a){return{restrict:"A",link:function(b,c,d){c.selectpicker("render"),b.$watch(d.obj,function(){a(function(){c.selectpicker("refresh")})}),"district"==d.id&&(c.prop("disabled",!0),c.selectpicker("refresh")),b.setDistrict=function(a){var b=$(".selectpicker#district");189==a.id&&b.is(":disabled")?(b.prop("disabled",!1),b.selectpicker("refresh")):b.is(":enabled")&&(b.prop("disabled",!0),b.selectpicker("refresh"),b.selectpicker("deselectAll"))}}}}]);var appDirectives=angular.module("appDirectives");appDirectives.directive("signup",[function(){return{restrict:"E",templateUrl:"scripts/directives/signup.html",scope:!0,replace:!0,link:function(a,b,c){$(".selectpicker").selectpicker("render")}}}]);var appDirectives=angular.module("appDirectives");appDirectives.directive("social",["$location",function(a){return{restrict:"E",templateUrl:"scripts/directives/social.html",scope:{networks:"=networks",textClass:"@?",text:"@?",action:"@?",containerClass:"@?",obj:"=?"},replace:!0,link:function(b,c,d){b.curLoc=encodeURIComponent(a.absUrl()),b.encodeEl=function(a){return encodeURIComponent(a)}}}}]);var appDirectives=angular.module("appDirectives");appDirectives.directive("timePicker",[function(){return{restrict:"E",templateUrl:"scripts/directives/timePicker.html",scope:!0,transclude:!0,replace:!0,require:"ngModel",link:function(a,b,c,d){var e=!0;if(void 0==d.$modalValue){var f=new Date;f.setHours(0),f.setMinutes(0),a.useObj=f}a.changed=function(){var b=a.useObj.getHours()+":"+a.useObj.getMinutes()+":00";d.$setViewValue(b),d.$render()},a.$watch(function(){return d.$modelValue},function(b){void 0!=b&&(e&&(a.useObj=a.$eval(c.timeObj)),e=!1)})}}}]),app.directive("uploadPreview",["$log",function(a){return{restrict:"A",scope:{image:"=?image",maxWidth:"@?maxWidth",maxHeight:"@?maxHeight"},link:function(a,b,c){var d=new FileReader,e=new Image;d.onload=function(c){e.src=c.target.result,e.onload=function(){var d=this.width,e=this.height;if(a.maxWidth=angular.isDefined(a.maxWidth)?a.maxWidth:1080,a.maxHeight=angular.isDefined(a.maxHeight)?a.maxHeight:760,e<=a.maxHeight&&d<=a.maxWidth){var f=b[0].files[0];a.image.src=c.target.result,a.image.name=f.name,a.image.extension=f.name.substr(f.name.lastIndexOf(".")+1),a.image.fileError=null,a.image.id=null}else toastr.error("Imagens devem ter no máximo "+a.maxWidth+"x"+a.maxHeight+"px!");angular.element(".imageSpinPlaceholder").removeClass("spinner"),angular.element(".fileInput").val(null),a.$apply()}},b.on("change",function(){b[0].files[0].type.match("image.*")?(d.readAsDataURL(b[0].files[0]),angular.element(".imageSpinPlaceholder").addClass("spinner")):(toastr.error("Formato não permitido."),a.image.src=null,a.image.id=null,angular.element(".fileInput").val(null),a.image.fileError=!0,a.$apply())})}}}]),app.directive("imageActions",function(){return{restrict:"A",scope:!1,link:function(a,b,c){a.deleteImage=function(){a.image.src=null,a.image.id=null,a.image.name=null,a.image.extension=null,a.image.fileError=null,a.innerImage=a.$eval(c.objimg)}}}});